(()=>{var e={};e.id=235,e.ids=[235],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2806:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>m,routeModule:()=>h,tree:()=>c});var t=s(3137),r=s(4647),l=s(4183),i=s.n(l),n=s(1775),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(a,o);let d=t.AppPageRouteModule,c=["",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8917)),"/Users/anshul/Documents/Developer/volunteer-fe/app/auth/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,920)),"/Users/anshul/Documents/Developer/volunteer-fe/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1918,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/anshul/Documents/Developer/volunteer-fe/app/auth/page.tsx"],u="/auth/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new d({definition:{kind:r.x.APP_PAGE,page:"/auth/page",pathname:"/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},789:(e,a,s)=>{Promise.resolve().then(s.bind(s,7360))},7360:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>C});var t=s(80),r=s(9885),l=s(8384),i=s(7052),n=s(9424),o=s(3478),d=s(999),c=s(4796),m=s(4547),u=s(8401),p=s(1088),h=s(65),g=s(5805),x=s(505),v=s(7114),j=s(4881),w=s(9448),y=s(6418),f=s(7502),N=s(3477),b=s(8574),P=s(6466);function S(){let[e,a]=(0,r.useState)(!1),s=(0,v.useRouter)(),S=(0,j.T)(),[C,{isLoading:_}]=(0,y.l4)(),[z,{isLoading:q}]=(0,y.YA)(),[I,A]=(0,r.useState)({email:"",password:"",name:""}),[Z,k]=(0,r.useState)({email:"",password:""}),[E,D]=(0,r.useState)({email:"",password:""}),{toast:L}=(0,f.pm)(),[O,{isLoading:R}]=(0,N.YA)(),U=async e=>{e.preventDefault();try{let e=await z({email:I.email,password:I.password}).unwrap();if(e.success){localStorage.setItem("token",e.data.token),S((0,w.he)({user:{id:e.data.user.id,email:e.data.user.email,role:"volunteer",name:e.data.user.name,status:e.data.user.status,onboardingComplete:e.data.user.onboardingComplete},token:e.data.token}));let a=e.data.redirect;if("/volunteer/approval-pending"===a){L({title:"Application Pending",description:"Your application is pending admin approval. You'll be notified once approved."});return}if("/volunteer/application-rejected"===a){L({variant:"destructive",title:"Application Rejected",description:"Your volunteer application has been rejected. Please contact support for more information."});return}s.push(a),L({title:"Login successful",description:"Welcome back!"})}}catch(e){console.error("Login error:",e),L({variant:"destructive",title:"Login failed",description:e.data?.message||"Invalid credentials. Please try again."})}},F=async e=>{e.preventDefault(),a(!0);try{let e=await fetch("http://localhost:5000/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:Z.email,password:Z.password})}),a=await e.json();if(a.success)localStorage.setItem("token",a.data.token),S((0,w.he)({user:{id:a.data.admin.id,email:a.data.admin.email,role:"admin",name:a.data.admin.name},token:a.data.token})),s.push("/admindashboard"),L({title:"Login successful",description:"Welcome back, admin!"});else throw Error(a.message)}catch(e){L({variant:"destructive",title:"Login failed",description:e.message||"Invalid credentials. Please try again."})}finally{a(!1)}},Y=async e=>{e.preventDefault(),a(!0);try{let e=await C({email:I.email,password:I.password,name:I.name}).unwrap();a(!1),e.success&&s.push("/onboarding")}catch(e){a(!1),L({variant:"destructive",title:"Registration failed",description:e.data?.message||"Something went wrong. Please try again."})}},V=async e=>{e.preventDefault();try{let e=await O({email:E.email,password:E.password}).unwrap();e.success&&(S((0,b.j5)({...e.data,organization:{...e.data.organization,role:"organization"}})),s.push("/organizationdashboard"),L({title:"Login successful",description:"Welcome to your organization dashboard!"}))}catch(e){L({variant:"destructive",title:"Login failed",description:e.data?.message||"Invalid credentials. Please try again."})}},[G,M]=(0,r.useState)({name:"",email:"",password:"",description:"",phone:"",address:{city:"",state:""},contact:{primaryContactName:"",primaryContactEmail:""}}),[T,{isLoading:Q}]=(0,N.l4)(),W=async e=>{e.preventDefault();try{let e=await T(G).unwrap();e.success&&(M({name:"",email:"",password:"",description:"",phone:"",address:{city:"",state:""},contact:{primaryContactName:"",primaryContactEmail:""}}),L({title:"Registration successful",description:"Your organization is pending admin approval. You can now login once approved."}))}catch(e){L({variant:"destructive",title:"Registration failed",description:e.data?.message||"Something went wrong."})}};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[t.jsx("div",{className:"bg-blue-600 rounded-full p-3",children:t.jsx(m.Z,{className:"h-8 w-8 text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"VolunteerHub"})]}),t.jsx("p",{className:"text-gray-600",children:"Emergency Response Platform"})]}),(0,t.jsxs)(d.mQ,{defaultValue:"volunteer",className:"w-full",children:[(0,t.jsxs)(d.dr,{className:"grid w-full grid-cols-3 mb-6",children:[(0,t.jsxs)(d.SP,{value:"volunteer",className:"flex items-center gap-2",children:[t.jsx(u.Z,{className:"h-4 w-4"}),"Volunteer"]}),(0,t.jsxs)(d.SP,{value:"organization",className:"flex items-center gap-2",children:[t.jsx(p.Z,{className:"h-4 w-4"}),"Organization"]}),(0,t.jsxs)(d.SP,{value:"admin",className:"flex items-center gap-2",children:[t.jsx(h.Z,{className:"h-4 w-4"}),"Admin"]})]}),t.jsx(d.nU,{value:"volunteer",children:(0,t.jsxs)(i.Zb,{className:"border-0 shadow-xl",children:[(0,t.jsxs)(i.Ol,{className:"text-center",children:[t.jsx(i.ll,{className:"text-2xl",children:"Volunteer Access"}),t.jsx(i.SZ,{children:"Sign in to your volunteer account or register to get started"})]}),t.jsx(i.aY,{children:(0,t.jsxs)(d.mQ,{defaultValue:"login",className:"w-full",children:[(0,t.jsxs)(d.dr,{className:"grid w-full grid-cols-2 mb-6",children:[t.jsx(d.SP,{value:"login",children:"Sign In"}),t.jsx(d.SP,{value:"register",children:"Register"})]}),t.jsx(d.nU,{value:"login",children:(0,t.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"email",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",required:!0,value:I.email,onChange:e=>A({...I,email:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"password",type:"password",placeholder:"Enter your password",className:"pl-10",required:!0,value:I.password,onChange:e=>A({...I,password:e.target.value})})]})]}),t.jsx(l.z,{type:"submit",className:"w-full",disabled:q,children:q?"Signing In...":"Sign In"})]})}),t.jsx(d.nU,{value:"register",children:(0,t.jsxs)("form",{onSubmit:Y,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"name",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(u.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"name",type:"text",placeholder:"John Doe",className:"pl-10",required:!0,value:I.name,onChange:e=>A({...I,name:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"reg-email",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"reg-email",type:"email",placeholder:"your@email.com",className:"pl-10",required:!0,value:I.email,onChange:e=>A({...I,email:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"reg-password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"reg-password",type:"password",placeholder:"Create a password",className:"pl-10",required:!0,value:I.password,onChange:e=>A({...I,password:e.target.value})})]})]}),t.jsx(l.z,{type:"submit",className:"w-full",disabled:_,children:_?"Creating Account...":"Create Account"})]})})]})})]})}),t.jsx(d.nU,{value:"organization",children:(0,t.jsxs)(i.Zb,{className:"border-0 shadow-xl",children:[(0,t.jsxs)(i.Ol,{className:"text-center",children:[t.jsx(i.ll,{className:"text-2xl",children:"Organization Access"}),t.jsx(i.SZ,{children:"Sign in to your organization account or register your organization"})]}),t.jsx(i.aY,{children:(0,t.jsxs)(d.mQ,{defaultValue:"login",className:"w-full",children:[(0,t.jsxs)(d.dr,{className:"grid w-full grid-cols-2 mb-6",children:[t.jsx(d.SP,{value:"login",children:"Sign In"}),t.jsx(d.SP,{value:"register",children:"Register"})]}),t.jsx(d.nU,{value:"login",children:(0,t.jsxs)("form",{onSubmit:V,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"org-email",children:"Organization Email"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"org-email",type:"email",placeholder:"organization@example.com",className:"pl-10",required:!0,value:E.email,onChange:e=>D({...E,email:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"org-password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"org-password",type:"password",placeholder:"Enter organization password",className:"pl-10",required:!0,value:E.password,onChange:e=>D({...E,password:e.target.value})})]})]}),t.jsx(l.z,{type:"submit",className:"w-full",disabled:R,children:R?"Signing In...":"Organization Login"})]})}),t.jsx(d.nU,{value:"register",children:(0,t.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[t.jsx(n.I,{placeholder:"Organization Name",value:G.name,onChange:e=>M({...G,name:e.target.value}),required:!0}),t.jsx(n.I,{type:"email",placeholder:"Organization Email",value:G.email,onChange:e=>M({...G,email:e.target.value}),required:!0}),t.jsx(n.I,{type:"password",placeholder:"Password",value:G.password,onChange:e=>M({...G,password:e.target.value}),required:!0}),t.jsx(P.g,{placeholder:"Organization Description",value:G.description,onChange:e=>M({...G,description:e.target.value}),required:!0}),t.jsx(n.I,{placeholder:"Phone Number",value:G.phone,onChange:e=>M({...G,phone:e.target.value}),required:!0}),t.jsx(n.I,{placeholder:"Primary Contact Name",value:G.contact.primaryContactName,onChange:e=>M({...G,contact:{...G.contact,primaryContactName:e.target.value}}),required:!0}),t.jsx(l.z,{type:"submit",className:"w-full",disabled:Q,children:Q?"Registering...":"Register Organization"})]})})]})})]})}),t.jsx(d.nU,{value:"admin",children:(0,t.jsxs)(i.Zb,{className:"border-0 shadow-xl",children:[(0,t.jsxs)(i.Ol,{className:"text-center",children:[t.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:t.jsx(c.C,{variant:"destructive",children:"Admin Access"})}),t.jsx(i.ll,{className:"text-2xl",children:"Administrator Login"}),t.jsx(i.SZ,{children:"Secure access for emergency response coordinators"})]}),t.jsx(i.aY,{children:(0,t.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"admin-email",children:"Admin Email"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(g.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"admin-email",type:"email",placeholder:"admin@volunteerhub.com",className:"pl-10",required:!0,value:Z.email,onChange:e=>k({...Z,email:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(o._,{htmlFor:"admin-password",children:"Admin Password"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(x.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(n.I,{id:"admin-password",type:"password",placeholder:"Enter admin password",className:"pl-10",required:!0,value:Z.password,onChange:e=>k({...Z,password:e.target.value})})]})]}),t.jsx(l.z,{type:"submit",className:"w-full",disabled:e,children:e?"Authenticating...":"Admin Login"})]})})]})})]}),t.jsx("div",{className:"text-center mt-6",children:t.jsx(l.z,{variant:"link",onClick:()=>s.push("/"),children:"← Back to Home"})})]})})}function C(){return t.jsx(S,{})}},3478:(e,a,s)=>{"use strict";s.d(a,{_:()=>d});var t=s(80),r=s(9885),l=s(3618),i=s(1971),n=s(3161);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...a},s)=>t.jsx(l.f,{ref:s,className:(0,n.cn)(o(),e),...a}));d.displayName=l.f.displayName},8917:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>i,__esModule:()=>l,default:()=>o});var t=s(7536);let r=(0,t.createProxy)(String.raw`/Users/anshul/Documents/Developer/volunteer-fe/app/auth/page.tsx`),{__esModule:l,$$typeof:i}=r,n=r.default,o=n}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[597,49,371,573,298,582,796,778,999],()=>s(2806));module.exports=t})();