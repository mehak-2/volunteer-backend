(()=>{var e={};e.id=461,e.ids=[461],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7336:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>m,routeModule:()=>u,tree:()=>d});var t=a(3137),l=a(4647),i=a(4183),n=a.n(i),r=a(1775),o={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>r[e]);a.d(s,o);let c=t.AppPageRouteModule,d=["",{children:["onboarding",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3748)),"/Users/anshul/Documents/Developer/volunteer-fe/app/onboarding/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,920)),"/Users/anshul/Documents/Developer/volunteer-fe/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,1918,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/anshul/Documents/Developer/volunteer-fe/app/onboarding/page.tsx"],x="/onboarding/page",h={require:a,loadChunk:()=>Promise.resolve()},u=new c({definition:{kind:l.x.APP_PAGE,page:"/onboarding/page",pathname:"/onboarding",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1642:(e,s,a)=>{Promise.resolve().then(a.bind(a,4213))},4213:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>z});var t=a(80),l=a(4881),i=a(9885),n=a(8384),r=a(7052),o=a(5276),c=a(9424),d=a(3478),m=a(589),x=a(2293),h=a(4796),u=a(8401),p=a(5011),g=a(6426),j=a(5322);function b(){let{data:e}=(0,l.C)(e=>e.onboarding),s=(0,l.T)(),[a,b]=(0,i.useState)(""),[y,{isLoading:f,isError:v,error:N,isSuccess:k}]=(0,o.S5)(),w=(e,a)=>{s((0,j.Lo)({[e]:a}))},C=async()=>{try{let{fullname:a,age:t,gender:l}=e.personalInfo;await y({fullname:a,age:t,gender:l}).unwrap(),s((0,j.zF)())}catch(e){console.error("Registration failed:",e)}},A=e.personalInfo.fullname&&e.personalInfo.age>0&&e.personalInfo.gender;return(0,t.jsxs)(r.Zb,{className:"border-0 shadow-xl",children:[(0,t.jsxs)(r.Ol,{className:"text-center",children:[(0,t.jsxs)(r.ll,{className:"text-2xl flex items-center gap-2 justify-center",children:[t.jsx(u.Z,{className:"h-6 w-6 text-blue-600"}),"Personal Information"]}),t.jsx(r.SZ,{children:"Let's start with some basic information about you. This helps us match you with appropriate volunteer opportunities."})]}),(0,t.jsxs)(r.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsxs)("div",{className:"relative inline-block",children:[(0,t.jsxs)(x.qE,{className:"w-32 h-32 mx-auto border-4 border-gray-200",children:[t.jsx(x.F$,{src:a||e.personalInfo.photo}),t.jsx(x.Q5,{className:"bg-gray-100 text-gray-400 text-2xl",children:t.jsx(p.Z,{className:"h-12 w-12"})})]}),t.jsx("label",{htmlFor:"photo-upload",className:"absolute bottom-2 right-2 bg-blue-600 text-white rounded-full p-2 cursor-pointer hover:bg-blue-700 transition-colors",children:t.jsx(g.Z,{className:"h-4 w-4"})}),t.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){let e=new FileReader;e.onload=e=>{let a=e.target?.result;b(a),s((0,j.Lo)({photo:a}))},e.readAsDataURL(a)}},className:"hidden"})]}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Upload a clear photo of yourself"}),t.jsx(h.C,{variant:"secondary",className:"mt-1",children:"Optional"})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"fullname",children:"Full Name *"}),t.jsx(c.I,{id:"fullname",type:"text",placeholder:"Enter your full name",value:e.personalInfo.fullname,onChange:e=>w("fullname",e.target.value),className:"text-lg"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"age",children:"Age *"}),t.jsx(c.I,{id:"age",type:"number",placeholder:"Your age",min:"16",max:"99",value:e.personalInfo.age||"",onChange:e=>w("age",parseInt(e.target.value)||0),className:"text-lg"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Must be 16 or older to volunteer"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"gender",children:"Gender *"}),(0,t.jsxs)(m.Ph,{value:e.personalInfo.gender,onValueChange:e=>w("gender",e),children:[t.jsx(m.i4,{className:"text-lg",children:t.jsx(m.ki,{placeholder:"Select your gender"})}),(0,t.jsxs)(m.Bw,{children:[t.jsx(m.Ql,{value:"male",children:"Male"}),t.jsx(m.Ql,{value:"female",children:"Female"}),t.jsx(m.Ql,{value:"non-binary",children:"Non-binary"}),t.jsx(m.Ql,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Why do we need this information?"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:"• Your photo helps emergency coordinators identify you during responses"}),t.jsx("li",{children:"• Age verification ensures you meet volunteer requirements"}),t.jsx("li",{children:"• Gender information helps with appropriate assignment matching"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[t.jsx(n.z,{variant:"outline",disabled:!0,children:"Previous"}),t.jsx(n.z,{onClick:C,disabled:!A||f,className:"px-8",children:f?"Saving...":"Continue to Contact Info"})]}),v&&t.jsx("p",{className:"text-red-500 text-sm pt-2",children:"Something went wrong. Please try again."})]})]})}var y=a(6466),f=a(3646),v=a(3341),N=a(5805),k=a(3159);function w(){let{currentStep:e}=(0,l.C)(e=>e.onboarding),{data:s}=(0,l.C)(e=>e.onboarding),a=(0,l.T)(),[m,x]=(0,i.useState)(!1),[u,p]=(0,i.useState)({sms:!0,email:!0,phonecall:!1,notification:!0}),[g,{isLoading:b}]=o.Oy.endpoints.contactStep.useMutation(),w=(e,s)=>{a((0,j.uF)({[e]:s}))},C=e=>{p(s=>({...s,[e]:!s[e]}))},A=()=>u.email?"email":u.sms?"sms":u.phonecall?"phonecall":u.notification?"notification":"email",I=async()=>{try{await g({phone:s.contactInfo.phone,email:s.contactInfo.email,address:s.contactInfo.address,location:s.contactInfo.location?JSON.stringify(s.contactInfo.location):"",contactPreference:A()}).unwrap(),a((0,j.zF)())}catch(e){console.error("Failed to save contact info:",e)}},P=s.contactInfo.phone&&s.contactInfo.email&&s.contactInfo.address&&s.contactInfo.location;return(0,t.jsxs)(r.Zb,{className:"border-0 shadow-xl",children:[(0,t.jsxs)(r.Ol,{className:"text-center",children:[(0,t.jsxs)(r.ll,{className:"text-2xl flex items-center gap-2 justify-center",children:[t.jsx(f.Z,{className:"h-6 w-6 text-blue-600"}),"Contact & Location Information"]}),t.jsx(r.SZ,{children:"We need your contact details and location to coordinate emergency responses effectively."})]}),(0,t.jsxs)(r.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"phoneNumber",children:"Phone Number *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(v.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(c.I,{id:"phoneNumber",type:"tel",placeholder:"+1 (555) 123-4567",value:s.contactInfo.phone,onChange:e=>w("phone",e.target.value),className:"pl-10 text-lg"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Primary contact for emergency alerts"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"email",children:"Email Address *"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),t.jsx(c.I,{id:"email",type:"email",placeholder:"your@email.com",value:s.contactInfo.email,onChange:e=>w("email",e.target.value),className:"pl-10 text-lg"})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Used for account verification and updates"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"address",children:"Home Address *"}),t.jsx(y.g,{id:"address",placeholder:"Enter your full address including city, state, and ZIP code",value:s.contactInfo.address,onChange:e=>w("address",e.target.value),className:"min-h-[100px] text-lg"}),t.jsx("p",{className:"text-xs text-gray-500",children:"This helps us determine your coverage area"})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Enable Location Services"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Allow us to access your current location for faster emergency response coordination"})]}),(0,t.jsxs)(n.z,{variant:"outline",onClick:()=>{x(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:t}=e.coords;a((0,j.uF)({location:{lat:s,lng:t}})),x(!1)},e=>{console.error("Error getting location:",e),x(!1)}):(alert("Geolocation is not supported by this browser."),x(!1))},disabled:m,className:"flex items-center gap-2",children:[t.jsx(k.Z,{className:"h-4 w-4"}),m?"Getting Location...":"Get Current Location"]})]}),s.contactInfo.location&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(h.C,{className:"bg-green-100 text-green-800",variant:"secondary",children:"Location Enabled"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Lat: ",s.contactInfo.location.lat.toFixed(4),", Lng:"," ",s.contactInfo.location.lng.toFixed(4)]})]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"Privacy & Security"}),(0,t.jsxs)("ul",{className:"text-sm text-orange-800 space-y-1",children:[t.jsx("li",{children:"• Your contact information is only shared with verified emergency coordinators"}),t.jsx("li",{children:"• Location data is used solely for emergency response matching"}),t.jsx("li",{children:"• You can update your availability status at any time"}),t.jsx("li",{children:"• All data is encrypted and stored securely"})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Emergency Contact Preferences"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"sms",className:"rounded",checked:u.sms,onChange:()=>C("sms")}),t.jsx("label",{htmlFor:"sms",className:"text-sm",children:"SMS Alerts"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"email-alerts",className:"rounded",checked:u.email,onChange:()=>C("email")}),t.jsx("label",{htmlFor:"email-alerts",className:"text-sm",children:"Email Notifications"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"phone-calls",className:"rounded",checked:u.phonecall,onChange:()=>C("phonecall")}),t.jsx("label",{htmlFor:"phone-calls",className:"text-sm",children:"Phone Calls (Urgent)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"push",className:"rounded",checked:u.notification,onChange:()=>C("notification")}),t.jsx("label",{htmlFor:"push",className:"text-sm",children:"Push Notifications"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[t.jsx(n.z,{variant:"outline",onClick:()=>{a((0,j.NM)())},children:"Previous"}),t.jsx(n.z,{onClick:I,disabled:!P||b,className:"px-8",children:b?"Saving...":"Continue to Skills"})]})]})]})}var C=a(3780),A=a(6698),I=a(4547),P=a(6167),S=a(9384),F=a(9803);function T(){let{data:e}=(0,l.C)(e=>e.onboarding),s=(0,l.T)(),[a]=(0,o.K4)(),i=(a,t)=>{let l=e.skillsAvailability.skills||[],i=t?[...l,a]:l.filter(e=>e!==a);s((0,j.GG)({skills:i}))},c=(a,t)=>{let l=e.skillsAvailability.availability||[],i=t?[...l,a]:l.filter(e=>e!==a);s((0,j.GG)({availability:i}))},m=(e,a)=>{s((0,j.GG)({[e]:a}))},x=async()=>{try{let t={user:{certificate:{cprTrained:e.skillsAvailability.cprTrained||!1,firstAidTrained:e.skillsAvailability.firstAidTrained||!1},skills:e.skillsAvailability.skills||[],schedule:e.skillsAvailability.availability||[]}};console.log("Submitting skills data:",t);let l=await a(t).unwrap();console.log("Skills submitted successfully:",l),s((0,j.zF)())}catch(s){console.error("Failed to submit skills:",s);let e="Failed to submit skills. Please try again.";s&&"object"==typeof s&&"data"in s&&s.data&&"object"==typeof s.data&&"message"in s.data&&"string"==typeof s.data.message&&(e=s.data.message),console.error("Error message:",e)}},u=e.skillsAvailability.skills?.length>0&&e.skillsAvailability.availability?.length>0;return(0,t.jsxs)(r.Zb,{className:"border-0 shadow-xl",children:[(0,t.jsxs)(r.Ol,{className:"text-center",children:[(0,t.jsxs)(r.ll,{className:"text-2xl flex items-center gap-2 justify-center",children:[t.jsx(I.Z,{className:"h-6 w-6 text-blue-600"}),"Skills & Availability"]}),t.jsx(r.SZ,{children:"Tell us about your medical training, skills, and when you're available to help during emergencies."})]}),(0,t.jsxs)(r.aY,{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(P.Z,{className:"h-5 w-5 text-orange-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Emergency Medical Certifications"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{className:"text-base font-medium",children:"CPR Certified"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Current CPR certification from AHA/Red Cross"})]}),t.jsx(A.r,{checked:e.skillsAvailability.cprTrained,onCheckedChange:e=>m("cprTrained",e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{className:"text-base font-medium",children:"First Aid Certified"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Current First Aid certification"})]}),t.jsx(A.r,{checked:e.skillsAvailability.firstAidTrained,onCheckedChange:e=>m("firstAidTrained",e)})]})]}),(e.skillsAvailability.cprTrained||e.skillsAvailability.firstAidTrained)&&t.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-green-800",children:[t.jsx("strong",{children:"Great!"})," Your certifications qualify you for priority emergency response assignments."]})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(I.Z,{className:"h-5 w-5 text-blue-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Medical & Support Skills"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:[{id:"cpr",name:"CPR Certified",required:!1},{id:"first-aid",name:"First Aid Certified",required:!1},{id:"emt",name:"EMT Basic",required:!1},{id:"emt-advanced",name:"EMT Advanced",required:!1},{id:"nursing",name:"Nursing Background",required:!1},{id:"medical-doctor",name:"Medical Doctor",required:!1},{id:"mental-health",name:"Mental Health Support",required:!1},{id:"pediatric",name:"Pediatric Care",required:!1},{id:"elderly-care",name:"Elderly Care",required:!1},{id:"disability-support",name:"Disability Support",required:!1},{id:"crisis-intervention",name:"Crisis Intervention",required:!1},{id:"language",name:"Multi-language Support",required:!1}].map(s=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[t.jsx(C.X,{id:s.id,checked:e.skillsAvailability.skills?.includes(s.id)||!1,onCheckedChange:e=>i(s.id,e)}),t.jsx(d._,{htmlFor:s.id,className:"flex-1 cursor-pointer",children:s.name})]},s.id))}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Selected skills: ",e.skillsAvailability.skills?.length||0]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(S.Z,{className:"h-5 w-5 text-purple-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Availability Schedule"})]}),t.jsx("div",{className:"space-y-3",children:[{id:"weekday-morning",name:"Weekday Mornings (6AM - 12PM)"},{id:"weekday-afternoon",name:"Weekday Afternoons (12PM - 6PM)"},{id:"weekday-evening",name:"Weekday Evenings (6PM - 11PM)"},{id:"weekday-night",name:"Weekday Nights (11PM - 6AM)"},{id:"weekend-day",name:"Weekend Days (6AM - 6PM)"},{id:"weekend-night",name:"Weekend Nights (6PM - 6AM)"},{id:"holidays",name:"Holidays & Special Events"},{id:"on-call",name:"On-Call Availability"}].map(s=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50",children:[t.jsx(C.X,{id:s.id,checked:e.skillsAvailability.availability?.includes(s.id)||!1,onCheckedChange:e=>c(s.id,e)}),t.jsx(d._,{htmlFor:s.id,className:"flex-1 cursor-pointer",children:s.name})]},s.id))}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Selected time slots:"," ",e.skillsAvailability.availability?.length||0]})]}),t.jsx("div",{className:"border-2 border-orange-200 rounded-lg p-4 bg-orange-50",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(F.Z,{className:"h-5 w-5 text-orange-600 mt-1"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"Emergency Response Commitment"}),t.jsx("p",{className:"text-sm text-orange-800 mb-3",children:"By selecting availability times, you're indicating when you could potentially respond to emergency calls. You can always decline specific requests and update your availability at any time."}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(h.C,{className:"bg-orange-100 text-orange-800",variant:"secondary",children:"No commitment required"}),t.jsx(h.C,{className:"bg-orange-100 text-orange-800",variant:"secondary",children:"Flexible scheduling"})]})]})]})}),!u&&t.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-yellow-800",children:"Please select at least one skill and one availability time slot to continue."})}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[t.jsx(n.z,{variant:"outline",onClick:()=>{s((0,j.NM)())},children:"Previous"}),t.jsx(n.z,{onClick:x,disabled:!u,className:"px-8",children:"Continue to Documents"})]})]})]})}var E=a(65),M=a(6053),Z=a(8533),q=a(9448),_=a(7114),D=a(7502);function O(){let{data:e}=(0,l.C)(e=>e.onboarding),s=(0,l.T)(),a=(0,_.useRouter)(),[c,m]=(0,i.useState)(""),[x,u]=(0,i.useState)(!1),[p,b]=(0,i.useState)(!1),[y,f]=(0,i.useState)(!1),[v]=(0,o.rf)(),{toast:N}=(0,D.pm)(),k=async()=>{if(x){f(!0);try{let t="";if(c){let e=document.getElementById("id-upload"),s=e?.files?.[0];if(s){let e=new FormData;e.append("file",s);let a=await fetch("http://localhost:5000/api/upload",{method:"POST",body:e});if(!a.ok)throw Error("Failed to upload file");let{fileUrl:l}=await a.json();t=l}}let l=await fetch("http://localhost:5000/api/onboarding/submit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({personalInfo:{fullname:e.personalInfo.fullname,age:e.personalInfo.age,gender:e.personalInfo.gender},contactInfo:{phone:e.contactInfo.phone,email:e.contactInfo.email,address:e.contactInfo.address||"",location:e.contactInfo.location,contactPreference:"email"},skillsInfo:{cprTrained:e.skillsAvailability.cprTrained||!1,firstAidTrained:e.skillsAvailability.firstAidTrained||!1,skills:e.skillsAvailability.skills||[],availability:e.skillsAvailability.availability||[]},documentsInfo:{documents:[{document:t}],termsAndConditions:x,backgroundCheckConsent:p}})}),i=await l.json();if(console.log("Onboarding submission response:",JSON.stringify(i,null,2)),!l.ok)throw console.error("Onboarding submission failed with status:",l.status),Error(i.message||"Failed to submit application");if(!i.success||!i.data?.user?.id||!i.data?.token)throw console.error("Unexpected response structure:",i),Error("Invalid response format from server");console.log("Onboarding data submitted successfully, user ID:",i.data.user.id),console.log("Onboarding complete status:",i.data.user.onboardingComplete),s((0,q.he)({user:{id:i.data.user.id,email:i.data.user.email,role:i.data.user.role,name:i.data.user.name,onboardingComplete:i.data.user.onboardingComplete,profileCompletion:i.data.user.profileCompletion,personalInfo:i.data.user.personalInfo,contactInfo:i.data.user.contactInfo,skills:i.data.user.skills,documents:i.data.user.documents,status:i.data.user.status,emergency:i.data.user.emergency},token:i.data.token})),localStorage.setItem("token",i.data.token),console.log("Onboarding completed successfully! User profile is complete."),s((0,j.Ye)()),N({title:"Application Submitted!",description:"Your volunteer application has been submitted and is pending admin approval.",variant:"default"}),a.push("/volunteer/approval-pending")}catch(e){console.error("Error completing onboarding:",e),N({variant:"destructive",title:"Error",description:e.message||"Failed to complete registration. Please try again."})}finally{f(!1)}}};return(0,t.jsxs)(r.Zb,{className:"border-0 shadow-xl",children:[(0,t.jsxs)(r.Ol,{className:"text-center",children:[(0,t.jsxs)(r.ll,{className:"text-2xl flex items-center gap-2 justify-center",children:[t.jsx(E.Z,{className:"h-6 w-6 text-blue-600"}),"Documents & Verification"]}),t.jsx(r.SZ,{children:"Complete your registration with identity verification and agreement to our terms."})]}),(0,t.jsxs)(r.aY,{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(M.Z,{className:"h-5 w-5 text-blue-600"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Identity Verification"})]}),t.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:c?(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(Z.Z,{className:"h-12 w-12 text-green-600 mx-auto"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Document Uploaded Successfully"}),t.jsx("p",{className:"text-sm text-green-700 mb-2",children:c}),t.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>m(""),children:"Upload Different File"})]})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(g.Z,{className:"h-12 w-12 text-gray-400 mx-auto"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Upload Government-Issued ID"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please upload a clear photo of your driver's license, passport, or state ID"}),(0,t.jsxs)("label",{htmlFor:"id-upload",className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg cursor-pointer hover:bg-blue-700 transition-colors",children:[t.jsx(g.Z,{className:"h-4 w-4"}),"Choose File"]}),t.jsx("input",{id:"id-upload",type:"file",accept:"image/*,.pdf",onChange:e=>{let a=e.target.files?.[0];a&&(m(a.name),s((0,j.lC)({idDocument:a.name})))},className:"hidden"})]})]})}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Document Security"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("li",{children:"• Your documents are encrypted and stored securely"}),t.jsx("li",{children:"• Only used for identity verification and background checks"}),t.jsx("li",{children:"• Automatically deleted after verification is complete"}),t.jsx("li",{children:"• Never shared with third parties"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Application Summary"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Personal Information"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Name:"})," ",e.personalInfo.fullname]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Age:"})," ",e.personalInfo.age]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Gender:"})," ",e.personalInfo.gender]})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact Information"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Phone:"})," ",e.contactInfo.phone]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Email:"})," ",e.contactInfo.email]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Location:"})," ",e.contactInfo.location?"Enabled":"Not provided"]})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Certifications"}),(0,t.jsxs)("div",{className:"space-y-1",children:[e.skillsAvailability.cprTrained&&t.jsx(h.C,{className:"bg-green-100 text-green-800 mr-1",variant:"secondary",children:"CPR Certified"}),e.skillsAvailability.firstAidTrained&&t.jsx(h.C,{className:"bg-green-100 text-green-800 mr-1",variant:"secondary",children:"First Aid"}),!e.skillsAvailability.cprTrained&&!e.skillsAvailability.firstAidTrained&&t.jsx("span",{className:"text-sm text-gray-600",children:"No certifications provided"})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Availability"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.skillsAvailability.availability?.length||0," time slots selected"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Terms & Agreements"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-4 border rounded-lg",children:[t.jsx(C.X,{id:"terms",checked:x,onCheckedChange:e=>u(e)}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(d._,{htmlFor:"terms",className:"text-base font-medium cursor-pointer",children:"I agree to the Terms of Service and Privacy Policy"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"By checking this box, you agree to our volunteer terms, privacy policy, and code of conduct."})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-4 border rounded-lg",children:[t.jsx(C.X,{id:"background",checked:p,onCheckedChange:e=>b(e)}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(d._,{htmlFor:"background",className:"text-base font-medium cursor-pointer",children:"I consent to background check verification"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"We'll conduct a standard background check to ensure volunteer safety and community trust."})]})]})]})]}),t.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(S.Z,{className:"h-5 w-5 text-green-600 mt-1"}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"What Happens Next?"}),(0,t.jsxs)("ol",{className:"text-sm text-green-800 space-y-1 list-decimal list-inside",children:[t.jsx("li",{children:"Your application will be reviewed by our team (typically 2-3 business days)"}),t.jsx("li",{children:"Background check will be processed (3-5 business days)"}),t.jsx("li",{children:"You'll receive an email notification about your approval status"}),t.jsx("li",{children:"Once approved, you can start responding to emergency alerts"})]})]})]})}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[t.jsx(n.z,{variant:"outline",onClick:()=>{s((0,j.NM)())},children:"Previous"}),t.jsx(n.z,{onClick:k,disabled:!(x&&p&&c)||y,className:"px-8",children:y?"Submitting Application...":"Submit Application"})]})]})]})}var G=a(6643),Y=a(1839);function z(){let{currentStep:e}=(0,l.C)(e=>e.onboarding);(0,l.T)(),(0,_.useRouter)();let{toast:s}=(0,D.pm)(),a=[{number:1,title:"Personal Information",component:b},{number:2,title:"Contact & Location",component:w},{number:3,title:"Skills & Availability",component:T},{number:4,title:"Documents & Verification",component:O}],i=a[e-1].component,n=e/a.length*100,[o]=(0,Y.m8)();return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50",children:[t.jsx("header",{className:"bg-white border-b",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"bg-blue-600 rounded-full p-2",children:t.jsx(I.Z,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"VolunteerHub"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Volunteer Registration"})]})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[t.jsx(r.Zb,{className:"mb-8",children:(0,t.jsxs)(r.Ol,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(r.ll,{className:"text-xl",children:"Complete Your Registration"}),(0,t.jsxs)(h.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:["Step ",e," of ",a.length]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(G.E,{value:n,className:"w-full h-2"}),t.jsx("div",{className:"grid grid-cols-4 gap-4",children:a.map(s=>(0,t.jsxs)("div",{className:`flex items-center gap-2 p-3 rounded-lg border transition-all ${s.number===e?"border-blue-200 bg-blue-50 text-blue-900":s.number<e?"border-green-200 bg-green-50 text-green-900":"border-gray-200 bg-gray-50 text-gray-600"}`,children:[t.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${s.number===e?"bg-blue-600 text-white":s.number<e?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:s.number<e?t.jsx(Z.Z,{className:"h-4 w-4"}):s.number}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("div",{className:"text-sm font-medium truncate",children:s.title})})]},s.number))})]})]})}),t.jsx(i,{})]})]})}},3748:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var t=a(8144),l=a(7536);let i=(0,l.createProxy)(String.raw`/Users/anshul/Documents/Developer/volunteer-fe/components/onboarding/OnboardingFlow.tsx`),{__esModule:n,$$typeof:r}=i,o=i.default;a(3830);let c=()=>t.jsx(o,{})}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[597,800,20,388,49,518,856,608,298,582,796,293,778,589,937,780],()=>a(7336));module.exports=t})();