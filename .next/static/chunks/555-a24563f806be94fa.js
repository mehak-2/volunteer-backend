"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{9555:function(e,a,s){s.r(a),s.d(a,{default:function(){return P}});var r=s(7437),t=s(2265),l=s(4033),n=s(8053),i=s(7850),c=s(3023),d=s(6110),o=s(9155),u=s(7309),x=s(2609),m=s(1908),h=s(5771),g=s(8094),p=s(8971),v=s(6486),j=s(7865);let y=(0,j.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var N=s(5779),f=s(6773),b=s(1666);let w=(0,j.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var C=s(4785),D=s(9799),k=s(4115);function P(){var e,a,s,j;let P=(0,l.useRouter)(),[Z,q]=(0,t.useState)(!1),[z,T]=(0,t.useState)({title:"",description:"",category:"",location:{address:""},startDate:"",endDate:"",duration:"",maxVolunteers:0,volunteerRequirements:{requiredSkills:[],requiredCertifications:[],experienceLevel:"any"}}),V=(0,n.C)(e=>{var a;return null===(a=e.organization)||void 0===a?void 0:a.isAuthenticated});(0,n.C)(e=>{var a;return null===(a=e.organization)||void 0===a?void 0:a.organization}),(0,t.useEffect)(()=>{V||P.push("/auth")},[V,P]);let{data:S,isLoading:E}=(0,i.oj)(),[A,{isLoading:M}]=(0,i.H7)(),[O]=(0,i.nX)(),Q=null==S?void 0:null===(e=S.data)||void 0===e?void 0:e.stats,L=(null==S?void 0:null===(a=S.data)||void 0===a?void 0:a.programs)||[],Y=null==S?void 0:null===(s=S.data)||void 0===s?void 0:s.organization,F=async()=>{try{await A(z).unwrap(),q(!1),T({title:"",description:"",category:"healthcare",location:{address:""},startDate:"",endDate:"",duration:"",maxVolunteers:0,volunteerRequirements:{requiredSkills:[],requiredCertifications:[],experienceLevel:"any"}})}catch(e){console.error("Failed to create program:",e)}},I=e=>{P.push("/program/".concat(e))},_=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":default:return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800"}},B=e=>{switch(e){case"healthcare":return"\uD83C\uDFE5";case"education":return"\uD83D\uDCDA";case"environment":return"\uD83C\uDF31";case"community":return"\uD83C\uDFD8️";case"disaster-relief":return"\uD83D\uDEA8";case"elderly-care":return"\uD83D\uDC74";case"children":return"\uD83D\uDC76";default:return"\uD83D\uDCCB"}};return E?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white border-b",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(u.qE,{className:"h-12 w-12",children:[(0,r.jsx)(u.F$,{src:null==Y?void 0:Y.logo}),(0,r.jsx)(u.Q5,{children:null==Y?void 0:null===(j=Y.name)||void 0===j?void 0:j.substring(0,2).toUpperCase()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:(null==Y?void 0:Y.name)||"Organization Dashboard"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Manage your volunteer programs and applications"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(c.z,{variant:"outline",size:"sm",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Settings"]}),(0,r.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>P.push("/auth"),children:[(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(d.Zb,{children:(0,r.jsx)(d.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Programs"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==Q?void 0:Q.totalPrograms)||0})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,r.jsx)(y,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,r.jsx)(d.Zb,{children:(0,r.jsx)(d.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Programs"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==Q?void 0:Q.activePrograms)||0})]}),(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,r.jsx)(N.Z,{className:"h-6 w-6 text-green-600"})})]})})}),(0,r.jsx)(d.Zb,{children:(0,r.jsx)(d.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Applications"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==Q?void 0:Q.totalApplications)||0})]}),(0,r.jsx)("div",{className:"p-3 bg-yellow-100 rounded-full",children:(0,r.jsx)(f.Z,{className:"h-6 w-6 text-yellow-600"})})]})})}),(0,r.jsx)(d.Zb,{children:(0,r.jsx)(d.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Selected Volunteers"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==Q?void 0:Q.selectedVolunteers)||0})]}),(0,r.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,r.jsx)(b.Z,{className:"h-6 w-6 text-purple-600"})})]})})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Programs"}),(0,r.jsxs)(x.Vq,{open:Z,onOpenChange:q,children:[(0,r.jsx)(x.hg,{asChild:!0,children:(0,r.jsxs)(c.z,{children:[(0,r.jsx)(w,{className:"h-4 w-4 mr-2"}),"Create Program"]})}),(0,r.jsxs)(x.cZ,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(x.fK,{children:[(0,r.jsx)(x.$N,{children:"Create New Program"}),(0,r.jsx)(x.Be,{children:"Add a new volunteer program to start recruiting volunteers."})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsx)(m.I,{placeholder:"Program Title",value:z.title,onChange:e=>T({...z,title:e.target.value})}),(0,r.jsx)(h.g,{placeholder:"Program Description",value:z.description,onChange:e=>T({...z,description:e.target.value})}),(0,r.jsxs)(g.Ph,{value:z.category,onValueChange:e=>T({...z,category:e}),children:[(0,r.jsx)(g.i4,{children:(0,r.jsx)(g.ki,{placeholder:"Select Category"})}),(0,r.jsxs)(g.Bw,{children:[(0,r.jsx)(g.Ql,{value:"healthcare",children:"Healthcare"}),(0,r.jsx)(g.Ql,{value:"education",children:"Education"}),(0,r.jsx)(g.Ql,{value:"environment",children:"Environment"}),(0,r.jsx)(g.Ql,{value:"community",children:"Community"}),(0,r.jsx)(g.Ql,{value:"disaster-relief",children:"Disaster Relief"}),(0,r.jsx)(g.Ql,{value:"elderly-care",children:"Elderly Care"}),(0,r.jsx)(g.Ql,{value:"children",children:"Children"}),(0,r.jsx)(g.Ql,{value:"other",children:"Other"})]})]}),(0,r.jsx)(m.I,{placeholder:"Location Address",value:z.location.address,onChange:e=>T({...z,location:{address:e.target.value}})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)(m.I,{type:"date",value:z.startDate,onChange:e=>T({...z,startDate:e.target.value})}),(0,r.jsx)(m.I,{type:"date",value:z.endDate,onChange:e=>T({...z,endDate:e.target.value})})]}),(0,r.jsx)(m.I,{placeholder:"Duration (e.g., 2 hours, 1 day, 3 weeks)",value:z.duration,onChange:e=>T({...z,duration:e.target.value})}),(0,r.jsx)(m.I,{type:"number",placeholder:"Max Volunteers",value:z.maxVolunteers,onChange:e=>T({...z,maxVolunteers:parseInt(e.target.value)||0})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(c.z,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),(0,r.jsx)(c.z,{onClick:F,disabled:M,children:M?"Creating...":"Create Program"})]})]})]})]}),(0,r.jsx)("div",{className:"grid gap-6",children:0===L.length?(0,r.jsx)(d.Zb,{children:(0,r.jsxs)(d.aY,{className:"p-12 text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(w,{className:"h-12 w-12 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No programs yet"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Create your first volunteer program to get started."}),(0,r.jsxs)(c.z,{onClick:()=>q(!0),children:[(0,r.jsx)(w,{className:"h-4 w-4 mr-2"}),"Create Your First Program"]})]})}):L.map(e=>{var a,s,t,l;return(0,r.jsxs)(d.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(e._id),children:[(0,r.jsx)(d.Ol,{children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"text-lg",children:B(e.category)}),(0,r.jsx)(d.ll,{className:"text-lg",children:e.title}),(0,r.jsx)(o.C,{className:_(e.status),variant:"secondary",children:e.status})]}),(0,r.jsx)(d.SZ,{className:"line-clamp-2",children:e.description})]})})}),(0,r.jsxs)(d.aY,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,r.jsx)(C.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"truncate",children:null===(a=e.location)||void 0===a?void 0:a.address})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,r.jsx)(D.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:new Date(e.startDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[(null===(s=e.appliedVolunteers)||void 0===s?void 0:s.length)||0," applications"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[(null===(t=e.selectedVolunteers)||void 0===t?void 0:t.length)||0," selected"]})]})]}),(null===(l=e.appliedVolunteers)||void 0===l?void 0:l.length)>0&&(0,r.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(k.Z,{className:"h-4 w-4 text-orange-500"}),(0,r.jsxs)("span",{className:"text-sm text-orange-600",children:[e.appliedVolunteers.length," new applications pending review"]})]})})]})]},e._id)})})]})]})}},7850:function(e,a,s){s.d(a,{H7:function(){return d},YA:function(){return i},iX:function(){return l},kN:function(){return u},l4:function(){return n},nX:function(){return h},oj:function(){return c},yt:function(){return x}});var r=s(5687),t=s(5345);let l=(0,r.LC)({reducerPath:"organizationApi",baseQuery:(0,t.ni)({baseUrl:"http://localhost:5000/api/organization",prepareHeaders:e=>{let a=localStorage.getItem("organizationToken");return a&&e.set("authorization","Bearer ".concat(a)),e.set("Content-Type","application/json"),e}}),tagTypes:["Organization","Program"],endpoints:e=>({register:e.mutation({query:e=>({url:"/register",method:"POST",body:e})}),login:e.mutation({query:e=>({url:"/login",method:"POST",body:e})}),getDashboard:e.query({query:()=>"/dashboard",providesTags:["Organization","Program"]}),createProgram:e.mutation({query:e=>({url:"/programs",method:"POST",body:e}),invalidatesTags:["Program"]}),getPrograms:e.query({query:e=>({url:"/programs",params:e}),providesTags:["Program"]}),getVolunteersForProgram:e.query({query:e=>"/programs/".concat(e,"/volunteers"),providesTags:["Program"]}),selectVolunteersForProgram:e.mutation({query:e=>{let{programId:a,volunteerIds:s}=e;return{url:"/programs/".concat(a,"/select-volunteers"),method:"POST",body:{volunteerIds:s}}},invalidatesTags:["Program"]}),updateProgram:e.mutation({query:e=>{let{programId:a,updateData:s}=e;return{url:"/programs/".concat(a),method:"PUT",body:s}},invalidatesTags:["Program"]}),deleteProgram:e.mutation({query:e=>({url:"/programs/".concat(e),method:"DELETE"}),invalidatesTags:["Program"]})})}),{useRegisterMutation:n,useLoginMutation:i,useGetDashboardQuery:c,useCreateProgramMutation:d,useGetProgramsQuery:o,useGetVolunteersForProgramQuery:u,useSelectVolunteersForProgramMutation:x,useUpdateProgramMutation:m,useDeleteProgramMutation:h}=l},4115:function(e,a,s){s.d(a,{Z:function(){return t}});var r=s(7865);let t=(0,r.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5779:function(e,a,s){s.d(a,{Z:function(){return t}});var r=s(7865);let t=(0,r.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},6773:function(e,a,s){s.d(a,{Z:function(){return t}});var r=s(7865);let t=(0,r.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}}]);