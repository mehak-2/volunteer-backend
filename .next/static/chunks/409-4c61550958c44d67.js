"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{2409:function(e,t,s){s.r(t),s.d(t,{default:function(){return q}});var a=s(7437),r=s(2265),n=s(8053),l=s(4033),i=s(9855),c=s(6478),o=s(3023),d=s(6110),u=s(9155),m=s(1908),x=s(7309),f=s(8094),p=s(3890),h=s(4919),g=s(6486),v=s(6773),j=s(8523),y=s(8882),N=s(4349),b=s(5779),w=s(7951),C=s(3835),S=s(4785),Z=s(9799),k=s(1023),R=s(1666),z=s(1012),A=s(5042);let E=A.h.injectEndpoints({endpoints:e=>({getActiveVolunteers:e.query({query:()=>"emergency/active-volunteers",transformResponse:e=>e.data}),getEmergencyAlerts:e.query({query:()=>"emergency/alerts",transformResponse:e=>e.data})})}),{useGetActiveVolunteersQuery:I,useGetEmergencyAlertsQuery:_}=E;var V=s(7579);function q(){let e=(0,n.T)(),t=(0,l.useRouter)(),[s,A]=(0,r.useState)(""),[E,q]=(0,r.useState)("all"),[O,Q]=(0,r.useState)("volunteers"),[L,P]=(0,r.useState)(""),[T,Y]=(0,r.useState)("all"),D=(0,n.C)(e=>e.auth.isAuthenticated);(0,r.useEffect)(()=>{D||t.push("/auth")},[D,t]);let{data:F,isSuccess:H}=(0,c.yE)(),{data:B,refetch:M}=(0,c.rw)({status:E,search:s}),{data:U,refetch:J}=(0,c.gH)({status:T,search:L}),[G]=(0,c.Eo)(),[$]=(0,c.Cp)(),[W]=(0,c.Hj)(),[K]=(0,c.eg)(),[X]=(0,c.Ib)(),[ee,et]=(0,r.useState)([]),[es,ea]=(0,r.useState)({total:0,pending:0,approved:0,active:0,responseTime:"0 min",todayResponses:0}),[er,en]=(0,r.useState)([]),{data:el=[]}=(0,c._O)(10),{data:ei=[]}=I(),{data:ec=[]}=_();(0,r.useEffect)(()=>{H&&(null==F?void 0:F.success)&&ea(F.data)},[F,H]),(0,r.useEffect)(()=>{(null==B?void 0:B.success)&&(console.log("Loaded volunteers:",JSON.stringify(B.data,null,2)),et(B.data))},[B]),(0,r.useEffect)(()=>{(null==U?void 0:U.success)&&en(U.data)},[U]);let eo=async e=>{try{let t=await G({volunteerId:e,status:"approved"}).unwrap();t.success&&(et(t=>t.map(t=>t._id===e?{...t,status:"approved"}:t)),"pending"===E&&q("approved"),M())}catch(e){console.error("Approve failed:",e)}},ed=async e=>{try{let t=await G({volunteerId:e,status:"rejected"}).unwrap();t.success&&t.data&&(et(t=>t.map(t=>t._id===e?{...t,status:"rejected"}:t)),"pending"===E&&q("rejected"),M())}catch(e){console.error("Reject failed:",e)}},eu=async e=>{try{let t=await X({organizationId:e,status:"approved"}).unwrap();t.success&&(en(t=>t.map(t=>t._id===e?{...t,status:"approved"}:t)),J())}catch(e){console.error("Approve organization failed:",e)}},em=async e=>{try{let t=await X({organizationId:e,status:"rejected"}).unwrap();t.success&&(en(t=>t.map(t=>t._id===e?{...t,status:"rejected"}:t)),J())}catch(e){console.error("Reject organization failed:",e)}},ex=e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ef=ee.filter(e=>{var t,a,r,n;let l=(null===(a=e.personalInfo)||void 0===a?void 0:null===(t=a.fullname)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase()))||(null===(n=e.contactInfo)||void 0===n?void 0:null===(r=n.email)||void 0===r?void 0:r.toLowerCase().includes(s.toLowerCase())),i="all"===E||e.status===E;return l&&i}),ep=er.filter(e=>{var t,s;let a=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(L.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(L.toLowerCase())),r="all"===T||e.status===T;return a&&r});return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-blue-600 rounded-full p-2",children:(0,a.jsx)(p.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"VolunteerHub Admin"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Emergency Response Management"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(u.C,{className:"bg-red-100 text-red-800",variant:"secondary",children:[(0,a.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),es.active," Active Volunteers"]}),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>{e((0,i.kS)()),t.push("/")},children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6 mb-8",children:[(0,a.jsx)(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-6 text-center",children:[(0,a.jsx)(v.Z,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:es.total}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Volunteers"})]})}),(0,a.jsx)(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-6 text-center",children:[(0,a.jsx)(j.Z,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:es.pending}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Pending Review"})]})}),(0,a.jsx)(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-6 text-center",children:[(0,a.jsx)(y.Z,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:es.approved}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Approved"})]})}),(0,a.jsx)(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-6 text-center",children:[(0,a.jsx)(N.Z,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:es.active}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Currently Active"})]})}),(0,a.jsx)(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-6 text-center",children:[(0,a.jsx)(b.Z,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:es.responseTime}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Response"})]})}),(0,a.jsx)(d.Zb,{children:(0,a.jsxs)(d.aY,{className:"p-6 text-center",children:[(0,a.jsx)(h.Z,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:es.todayResponses}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Today's Responses"})]})})]}),(0,a.jsxs)(V.mQ,{value:O,onValueChange:Q,className:"mb-8",children:[(0,a.jsxs)(V.dr,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(V.SP,{value:"volunteers",children:"Volunteers"}),(0,a.jsx)(V.SP,{value:"organizations",children:"Organizations"})]}),(0,a.jsx)(V.nU,{value:"volunteers",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ll,{children:"Volunteer Management"}),(0,a.jsx)(d.SZ,{children:"Review and manage volunteer applications"})]}),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),(0,a.jsxs)(d.aY,{children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(C.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(m.I,{placeholder:"Search volunteers...",value:s,onChange:e=>A(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(f.Ph,{value:E,onValueChange:q,children:[(0,a.jsx)(f.i4,{className:"w-40",children:(0,a.jsx)(f.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(f.Bw,{children:[(0,a.jsx)(f.Ql,{value:"all",children:"All Status"}),(0,a.jsx)(f.Ql,{value:"pending",children:"Pending"}),(0,a.jsx)(f.Ql,{value:"approved",children:"Approved"}),(0,a.jsx)(f.Ql,{value:"rejected",children:"Rejected"})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:ef.map(e=>{var t,s,r;return console.log("Rendering volunteer:",e),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(x.qE,{className:"h-12 w-12",children:[(0,a.jsx)(x.F$,{src:null===(t=e.personalInfo)||void 0===t?void 0:t.photo}),(0,a.jsx)(x.Q5,{children:null===(s=e.personalInfo)||void 0===s?void 0:s.fullname.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.personalInfo.fullname}),(0,a.jsx)(u.C,{className:ex(e.status),variant:"secondary",children:e.status}),(null===(r=e.emergency)||void 0===r?void 0:r.isAvailable)&&(0,a.jsx)(u.C,{className:"bg-green-100 text-green-800",variant:"secondary",children:"Available"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsx)("span",{children:e.contactInfo.email}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(S.Z,{className:"h-3 w-3"}),e.contactInfo.address]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3"}),"Joined"," ",new Date(e.joinDate||"").toLocaleDateString()]})]}),(0,a.jsx)("div",{className:"flex gap-1 mt-2",children:e.skills.skillsList.slice(0,3).map((e,t)=>(0,a.jsx)(u.C,{variant:"outline",className:"text-xs",children:e},t))})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.z,{variant:"outline",size:"sm",children:(0,a.jsx)(k.Z,{className:"h-4 w-4"})}),"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{console.log("Approving volunteer with ID:",e._id),eo(e._id)},children:[(0,a.jsx)(R.Z,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,a.jsxs)(o.z,{size:"sm",variant:"destructive",onClick:()=>{console.log("Rejecting volunteer with ID:",e._id),ed(e._id)},children:[(0,a.jsx)(z.Z,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),"approved"===e.status&&(0,a.jsx)(u.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Approved"}),"rejected"===e.status&&(0,a.jsx)(u.C,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Rejected"})]})]},e._id)})})]})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Recent Activity"}),(0,a.jsx)(d.SZ,{children:"Latest volunteer activities and responses"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[el.map(e=>(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-600 mt-2"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[e.volunteer," •"," ",new Date(e.timestamp).toLocaleString()]})]})]},e.id)),0===el.length&&(0,a.jsx)("div",{className:"text-center text-gray-500 py-4",children:"No recent activities"})]})})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Quick Actions"})}),(0,a.jsxs)(d.aY,{className:"space-y-3",children:[(0,a.jsxs)(o.z,{className:"w-full",variant:"outline",onClick:()=>$({message:"Emergency alert",severity:"high"}),children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Send Emergency Alert"]}),(0,a.jsxs)(o.z,{className:"w-full",variant:"outline",onClick:()=>W({volunteerIds:ee.filter(e=>"pending"===e.status).map(e=>e._id)}),children:[(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Bulk Approve"]}),(0,a.jsxs)(o.z,{className:"w-full",variant:"outline",onClick:()=>K(),children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Emergency Map"}),(0,a.jsx)(d.SZ,{children:"Real-time volunteer locations"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsx)("div",{className:"h-96 bg-gray-100 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center text-gray-500 p-4",children:[(0,a.jsx)(S.Z,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-sm",children:[ei.length," Active Volunteers •"," ",ec.length," Active Alerts"]}),(0,a.jsxs)("p",{className:"text-xs mt-2",children:["Last updated: ",new Date().toLocaleTimeString()]})]})})})]})]})]})}),(0,a.jsx)(V.nU,{value:"organizations",children:(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ll,{children:"Organization Management"}),(0,a.jsx)(d.SZ,{children:"Review and manage organization applications"})]}),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),(0,a.jsxs)(d.aY,{children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(C.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(m.I,{placeholder:"Search organizations...",value:L,onChange:e=>P(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(f.Ph,{value:T,onValueChange:Y,children:[(0,a.jsx)(f.i4,{className:"w-40",children:(0,a.jsx)(f.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(f.Bw,{children:[(0,a.jsx)(f.Ql,{value:"all",children:"All Status"}),(0,a.jsx)(f.Ql,{value:"pending",children:"Pending"}),(0,a.jsx)(f.Ql,{value:"approved",children:"Approved"}),(0,a.jsx)(f.Ql,{value:"rejected",children:"Rejected"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[ep.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(x.qE,{className:"h-12 w-12",children:(0,a.jsx)(x.Q5,{children:null===(t=e.name)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)(u.C,{className:"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",variant:"secondary",children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsx)("span",{children:e.email}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(S.Z,{className:"h-3 w-3"}),e.address.street,", ",e.address.city]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3"}),"Joined"," ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex gap-1 mt-2",children:[e.contact.primaryContactName&&(0,a.jsx)(u.C,{variant:"outline",className:"text-xs",children:e.contact.primaryContactName}),e.contact.primaryContactEmail&&(0,a.jsx)(u.C,{variant:"outline",className:"text-xs",children:e.contact.primaryContactEmail}),e.contact.primaryContactPhone&&(0,a.jsx)(u.C,{variant:"outline",className:"text-xs",children:e.contact.primaryContactPhone})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>eu(e._id),children:[(0,a.jsx)(R.Z,{className:"h-4 w-4 mr-1"}),"Approve"]}),(0,a.jsxs)(o.z,{size:"sm",variant:"destructive",onClick:()=>em(e._id),children:[(0,a.jsx)(z.Z,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),"approved"===e.status&&(0,a.jsx)(u.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Approved"}),"rejected"===e.status&&(0,a.jsx)(u.C,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Rejected"})]})]},e._id)}),0===ep.length&&(0,a.jsx)("div",{className:"text-center text-gray-500 py-4",children:"No organizations found"})]})]})]})})]})]})]})}},7309:function(e,t,s){s.d(t,{F$:function(){return c},Q5:function(){return o},qE:function(){return i}});var a=s(7437),r=s(2265),n=s(1769),l=s(9311);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.fC,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=n.fC.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Ee,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",s),...r})});c.displayName=n.Ee.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.NY,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});o.displayName=n.NY.displayName},9155:function(e,t,s){s.d(t,{C:function(){return i}});var a=s(7437);s(2265);var r=s(6061),n=s(9311);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...r})}},3023:function(e,t,s){s.d(t,{z:function(){return o}});var a=s(7437),r=s(2265),n=s(7256),l=s(6061),i=s(9311);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:o=!1,...d}=e,u=o?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(c({variant:r,size:l,className:s})),ref:t,...d})});o.displayName="Button"},6110:function(e,t,s){s.d(t,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var a=s(7437),r=s(2265),n=s(9311);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},1908:function(e,t,s){s.d(t,{I:function(){return l}});var a=s(7437),r=s(2265),n=s(9311);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},8094:function(e,t,s){s.d(t,{Bw:function(){return p},Ph:function(){return d},Ql:function(){return g},i4:function(){return m},ki:function(){return u}});var a=s(7437),r=s(2265),n=s(5374),l=s(4457),i=s(7661),c=s(3408),o=s(9311);let d=n.fC;n.ZA;let u=n.B4,m=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(n.xz,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.xz.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=n.u_.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=n.$G.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...i}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,a.jsx)(x,{}),(0,a.jsx)(n.l_,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(f,{})]})})});p.displayName=n.VY.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})});h.displayName=n.__.displayName;let g=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(n.ck,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(n.eT,{children:r})]})});g.displayName=n.ck.displayName;let v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});v.displayName=n.Z0.displayName},7579:function(e,t,s){s.d(t,{SP:function(){return o},dr:function(){return c},mQ:function(){return i},nU:function(){return d}});var a=s(7437),r=s(2265),n=s(7094),l=s(9311);let i=n.fC,c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});c.displayName=n.aV.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});o.displayName=n.xz.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});d.displayName=n.VY.displayName},9311:function(e,t,s){s.d(t,{cn:function(){return n}});var a=s(7042),r=s(4769);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},6478:function(e,t,s){s.d(t,{Cp:function(){return u},Eo:function(){return o},Hj:function(){return m},Ib:function(){return p},Nq:function(){return l},_O:function(){return d},eg:function(){return x},gH:function(){return f},rw:function(){return c},yE:function(){return i}});var a=s(5687),r=s(5345),n=s(8612);let l=(0,a.LC)({reducerPath:"adminApi",baseQuery:(0,r.ni)({baseUrl:"http://localhost:5000/api/admin",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("Authorization","Bearer ".concat(t)),e.set("Content-Type","application/json"),e},credentials:"include"}),tagTypes:["Volunteer","Organization"],endpoints:e=>({getDashboardStats:e.query({query:()=>"/stats",async onQueryStarted(e,t){let{dispatch:s,queryFulfilled:a}=t;try{let{data:e}=await a;e.success&&s((0,n._Y)(e.data))}catch(e){console.error("Error fetching stats:",e)}}}),getVolunteers:e.query({query:e=>({url:"/volunteers",params:e}),async onQueryStarted(e,t){let{dispatch:s,queryFulfilled:a}=t;try{let{data:e}=await a;e.success&&s((0,n.RI)(e.data))}catch(e){console.error("Error fetching volunteers:",e)}}}),updateVolunteerStatus:e.mutation({query:e=>{let{volunteerId:t,status:s}=e;return{url:"/volunteers/".concat(t,"/status"),method:"PATCH",body:{status:s}}},async onQueryStarted(e,t){let{volunteerId:s,status:a}=e,{dispatch:r,queryFulfilled:n}=t;try{let{data:e}=await n;r(l.util.updateQueryData("getVolunteers",{status:"all"},e=>{if(e.success&&Array.isArray(e.data)){let t=e.data.find(e=>e._id===s);t&&(t.status=a)}}))}catch(e){console.error("Failed to update volunteer status in cache")}}}),getRecentActivities:e.query({query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return{url:"/activities/recent?limit=".concat(e),method:"GET"}}}),sendEmergencyAlert:e.mutation({query:e=>({url:"/alert",method:"POST",body:e})}),bulkApproveVolunteers:e.mutation({query:e=>({url:"/volunteers/bulk-approve",method:"POST",body:e})}),generateReport:e.mutation({query:()=>({url:"/reports/generate",method:"POST"})}),getOrganizations:e.query({query:e=>({url:"/organizations",params:e}),providesTags:["Organization"]}),updateOrganizationStatus:e.mutation({query:e=>({url:"/organizations/status",method:"PATCH",body:e}),invalidatesTags:["Organization"]})})}),{useGetDashboardStatsQuery:i,useGetVolunteersQuery:c,useUpdateVolunteerStatusMutation:o,useGetRecentActivitiesQuery:d,useSendEmergencyAlertMutation:u,useBulkApproveVolunteersMutation:m,useGenerateReportMutation:x,useGetOrganizationsQuery:f,useUpdateOrganizationStatusMutation:p}=l},5042:function(e,t,s){s.d(t,{h:function(){return n}});var a=s(5687),r=s(5345);let n=(0,a.LC)({reducerPath:"api",baseQuery:(0,r.ni)({baseUrl:"/api"}),endpoints:()=>({}),tagTypes:["Volunteers","Alerts"]})},8053:function(e,t,s){s.d(t,{C:function(){return n},T:function(){return r}});var a=s(9627);let r=()=>(0,a.I0)(),n=a.v9},8612:function(e,t,s){s.d(t,{RI:function(){return l},_Y:function(){return d}});var a=s(3135);let r=(0,a.oM)({name:"admin",initialState:{volunteers:[],loading:!1,error:null,filters:{status:"all",location:"",skills:[]},stats:{total:0,pending:0,approved:0,active:0}},reducers:{setLoading:(e,t)=>{e.loading=t.payload},setVolunteers:(e,t)=>{e.volunteers=t.payload},approveVolunteer:(e,t)=>{let s=e.volunteers.find(e=>e.id===t.payload);s&&(s.status="approved")},rejectVolunteer:(e,t)=>{let s=e.volunteers.find(e=>e.id===t.payload);s&&(s.status="rejected")},setFilters:(e,t)=>{e.filters={...e.filters,...t.payload}},setStats:(e,t)=>{e.stats=t.payload},setError:(e,t)=>{e.error=t.payload},clearError:e=>{e.error=null}}}),{setLoading:n,setVolunteers:l,approveVolunteer:i,rejectVolunteer:c,setFilters:o,setStats:d,setError:u,clearError:m}=r.actions;t.ZP=r.reducer},9855:function(e,t,s){s.d(t,{he:function(){return i},kS:function(){return o}});var a=s(3135);let r=e=>localStorage.getItem(e),n=(0,a.oM)({name:"auth",initialState:{user:null,token:r("token"),isAuthenticated:!!r("token"),loading:!1,error:null},reducers:{loginStart:e=>{e.loading=!0,e.error=null},loginSuccess:(e,t)=>{e.loading=!1,e.user=t.payload.user,t.payload.token&&(e.token=t.payload.token),e.isAuthenticated=!0,e.error=null,localStorage.setItem("token",t.payload.token||""),localStorage.setItem("userId",t.payload.user.id),localStorage.setItem("user",JSON.stringify(t.payload.user))},loginFailure:(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("user")},clearError:e=>{e.error=null}}}),{loginStart:l,loginSuccess:i,loginFailure:c,logout:o,clearError:d}=n.actions;t.ZP=n.reducer}}]);