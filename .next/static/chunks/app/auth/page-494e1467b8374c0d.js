(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{3548:function(e,a,t){Promise.resolve().then(t.bind(t,5691))},5691:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return z}});var r=t(7437),s=t(2265),n=t(3023),i=t(6110),o=t(1908),l=t(6672),d=t(7579),c=t(9155),u=t(3890),m=t(9839),g=t(3234),p=t(7730),f=t(8144),h=t(892),v=t(4033),x=t(8053),y=t(9855),b=t(3061),j=t(2621),N=t(7850),w=t(5879),S=t(5771);function I(){let[e,a]=(0,s.useState)(!1),t=(0,v.useRouter)(),I=(0,x.T)(),[z,{isLoading:k}]=(0,b.l4)(),[P,{isLoading:T}]=(0,b.YA)(),[C,A]=(0,s.useState)({email:"",password:"",name:""}),[O,E]=(0,s.useState)({email:"",password:""}),[q,_]=(0,s.useState)({email:"",password:""}),{toast:R}=(0,j.pm)(),[Z,{isLoading:L}]=(0,N.YA)(),D=async e=>{e.preventDefault();try{let e=await P({email:C.email,password:C.password}).unwrap();if(e.success){localStorage.setItem("token",e.data.token),I((0,y.he)({user:{id:e.data.user.id,email:e.data.user.email,role:"volunteer",name:e.data.user.name,status:e.data.user.status,onboardingComplete:e.data.user.onboardingComplete},token:e.data.token}));let a=e.data.redirect;if("/volunteer/approval-pending"===a){R({title:"Application Pending",description:"Your application is pending admin approval. You'll be notified once approved."});return}if("/volunteer/application-rejected"===a){R({variant:"destructive",title:"Application Rejected",description:"Your volunteer application has been rejected. Please contact support for more information."});return}t.push(a),R({title:"Login successful",description:"Welcome back!"})}}catch(e){var a;console.error("Login error:",e),R({variant:"destructive",title:"Login failed",description:(null===(a=e.data)||void 0===a?void 0:a.message)||"Invalid credentials. Please try again."})}},F=async e=>{e.preventDefault(),a(!0);try{let e=await fetch("http://localhost:5000/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:O.email,password:O.password})}),a=await e.json();if(a.success)localStorage.setItem("token",a.data.token),I((0,y.he)({user:{id:a.data.admin.id,email:a.data.admin.email,role:"admin",name:a.data.admin.name},token:a.data.token})),t.push("/admindashboard"),R({title:"Login successful",description:"Welcome back, admin!"});else throw Error(a.message)}catch(e){R({variant:"destructive",title:"Login failed",description:e.message||"Invalid credentials. Please try again."})}finally{a(!1)}},V=async e=>{e.preventDefault(),a(!0);try{let e=await z({email:C.email,password:C.password,name:C.name}).unwrap();a(!1),e.success&&t.push("/onboarding")}catch(e){var r;a(!1),R({variant:"destructive",title:"Registration failed",description:(null===(r=e.data)||void 0===r?void 0:r.message)||"Something went wrong. Please try again."})}},Y=async e=>{e.preventDefault();try{let e=await Z({email:q.email,password:q.password}).unwrap();e.success&&(I((0,w.j5)({...e.data,organization:{...e.data.organization,role:"organization"}})),t.push("/organizationdashboard"),R({title:"Login successful",description:"Welcome to your organization dashboard!"}))}catch(e){var a;R({variant:"destructive",title:"Login failed",description:(null===(a=e.data)||void 0===a?void 0:a.message)||"Invalid credentials. Please try again."})}},[U,M]=(0,s.useState)({name:"",email:"",password:"",description:"",phone:"",address:{city:"",state:""},contact:{primaryContactName:"",primaryContactEmail:""}}),[Q,{isLoading:H}]=(0,N.l4)(),J=async e=>{e.preventDefault();try{let e=await Q(U).unwrap();e.success&&(M({name:"",email:"",password:"",description:"",phone:"",address:{city:"",state:""},contact:{primaryContactName:"",primaryContactEmail:""}}),R({title:"Registration successful",description:"Your organization is pending admin approval. You can now login once approved."}))}catch(e){var a;R({variant:"destructive",title:"Registration failed",description:(null===(a=e.data)||void 0===a?void 0:a.message)||"Something went wrong."})}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"bg-blue-600 rounded-full p-3",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 text-white"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"VolunteerHub"})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Emergency Response Platform"})]}),(0,r.jsxs)(d.mQ,{defaultValue:"volunteer",className:"w-full",children:[(0,r.jsxs)(d.dr,{className:"grid w-full grid-cols-3 mb-6",children:[(0,r.jsxs)(d.SP,{value:"volunteer",className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4"}),"Volunteer"]}),(0,r.jsxs)(d.SP,{value:"organization",className:"flex items-center gap-2",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"}),"Organization"]}),(0,r.jsxs)(d.SP,{value:"admin",className:"flex items-center gap-2",children:[(0,r.jsx)(p.Z,{className:"h-4 w-4"}),"Admin"]})]}),(0,r.jsx)(d.nU,{value:"volunteer",children:(0,r.jsxs)(i.Zb,{className:"border-0 shadow-xl",children:[(0,r.jsxs)(i.Ol,{className:"text-center",children:[(0,r.jsx)(i.ll,{className:"text-2xl",children:"Volunteer Access"}),(0,r.jsx)(i.SZ,{children:"Sign in to your volunteer account or register to get started"})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)(d.mQ,{defaultValue:"login",className:"w-full",children:[(0,r.jsxs)(d.dr,{className:"grid w-full grid-cols-2 mb-6",children:[(0,r.jsx)(d.SP,{value:"login",children:"Sign In"}),(0,r.jsx)(d.SP,{value:"register",children:"Register"})]}),(0,r.jsx)(d.nU,{value:"login",children:(0,r.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"email",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",required:!0,value:C.email,onChange:e=>A({...C,email:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"password",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"password",type:"password",placeholder:"Enter your password",className:"pl-10",required:!0,value:C.password,onChange:e=>A({...C,password:e.target.value})})]})]}),(0,r.jsx)(n.z,{type:"submit",className:"w-full",disabled:T,children:T?"Signing In...":"Sign In"})]})}),(0,r.jsx)(d.nU,{value:"register",children:(0,r.jsxs)("form",{onSubmit:V,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"name",children:"Full Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"name",type:"text",placeholder:"John Doe",className:"pl-10",required:!0,value:C.name,onChange:e=>A({...C,name:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"reg-email",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"reg-email",type:"email",placeholder:"your@email.com",className:"pl-10",required:!0,value:C.email,onChange:e=>A({...C,email:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"reg-password",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"reg-password",type:"password",placeholder:"Create a password",className:"pl-10",required:!0,value:C.password,onChange:e=>A({...C,password:e.target.value})})]})]}),(0,r.jsx)(n.z,{type:"submit",className:"w-full",disabled:k,children:k?"Creating Account...":"Create Account"})]})})]})})]})}),(0,r.jsx)(d.nU,{value:"organization",children:(0,r.jsxs)(i.Zb,{className:"border-0 shadow-xl",children:[(0,r.jsxs)(i.Ol,{className:"text-center",children:[(0,r.jsx)(i.ll,{className:"text-2xl",children:"Organization Access"}),(0,r.jsx)(i.SZ,{children:"Sign in to your organization account or register your organization"})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)(d.mQ,{defaultValue:"login",className:"w-full",children:[(0,r.jsxs)(d.dr,{className:"grid w-full grid-cols-2 mb-6",children:[(0,r.jsx)(d.SP,{value:"login",children:"Sign In"}),(0,r.jsx)(d.SP,{value:"register",children:"Register"})]}),(0,r.jsx)(d.nU,{value:"login",children:(0,r.jsxs)("form",{onSubmit:Y,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"org-email",children:"Organization Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"org-email",type:"email",placeholder:"organization@example.com",className:"pl-10",required:!0,value:q.email,onChange:e=>_({...q,email:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"org-password",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"org-password",type:"password",placeholder:"Enter organization password",className:"pl-10",required:!0,value:q.password,onChange:e=>_({...q,password:e.target.value})})]})]}),(0,r.jsx)(n.z,{type:"submit",className:"w-full",disabled:L,children:L?"Signing In...":"Organization Login"})]})}),(0,r.jsx)(d.nU,{value:"register",children:(0,r.jsxs)("form",{onSubmit:J,className:"space-y-4",children:[(0,r.jsx)(o.I,{placeholder:"Organization Name",value:U.name,onChange:e=>M({...U,name:e.target.value}),required:!0}),(0,r.jsx)(o.I,{type:"email",placeholder:"Organization Email",value:U.email,onChange:e=>M({...U,email:e.target.value}),required:!0}),(0,r.jsx)(o.I,{type:"password",placeholder:"Password",value:U.password,onChange:e=>M({...U,password:e.target.value}),required:!0}),(0,r.jsx)(S.g,{placeholder:"Organization Description",value:U.description,onChange:e=>M({...U,description:e.target.value}),required:!0}),(0,r.jsx)(o.I,{placeholder:"Phone Number",value:U.phone,onChange:e=>M({...U,phone:e.target.value}),required:!0}),(0,r.jsx)(o.I,{placeholder:"Primary Contact Name",value:U.contact.primaryContactName,onChange:e=>M({...U,contact:{...U.contact,primaryContactName:e.target.value}}),required:!0}),(0,r.jsx)(n.z,{type:"submit",className:"w-full",disabled:H,children:H?"Registering...":"Register Organization"})]})})]})})]})}),(0,r.jsx)(d.nU,{value:"admin",children:(0,r.jsxs)(i.Zb,{className:"border-0 shadow-xl",children:[(0,r.jsxs)(i.Ol,{className:"text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center gap-2 mb-2",children:(0,r.jsx)(c.C,{variant:"destructive",children:"Admin Access"})}),(0,r.jsx)(i.ll,{className:"text-2xl",children:"Administrator Login"}),(0,r.jsx)(i.SZ,{children:"Secure access for emergency response coordinators"})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"admin-email",children:"Admin Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"admin-email",type:"email",placeholder:"admin@volunteerhub.com",className:"pl-10",required:!0,value:O.email,onChange:e=>E({...O,email:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l._,{htmlFor:"admin-password",children:"Admin Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,r.jsx)(o.I,{id:"admin-password",type:"password",placeholder:"Enter admin password",className:"pl-10",required:!0,value:O.password,onChange:e=>E({...O,password:e.target.value})})]})]}),(0,r.jsx)(n.z,{type:"submit",className:"w-full",disabled:e,children:e?"Authenticating...":"Admin Login"})]})})]})})]}),(0,r.jsx)("div",{className:"text-center mt-6",children:(0,r.jsx)(n.z,{variant:"link",onClick:()=>t.push("/"),children:"â† Back to Home"})})]})})}function z(){return(0,r.jsx)(I,{})}},9155:function(e,a,t){"use strict";t.d(a,{C:function(){return o}});var r=t(7437);t(2265);var s=t(6061),n=t(9311);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),a),...s})}},3023:function(e,a,t){"use strict";t.d(a,{z:function(){return d}});var r=t(7437),s=t(2265),n=t(7256),i=t(6061),o=t(9311);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,a)=>{let{className:t,variant:s,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(l({variant:s,size:i,className:t})),ref:a,...c})});d.displayName="Button"},6110:function(e,a,t){"use strict";t.d(a,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return l}});var r=t(7437),s=t(2265),n=t(9311);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let u=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},1908:function(e,a,t){"use strict";t.d(a,{I:function(){return i}});var r=t(7437),s=t(2265),n=t(9311);let i=s.forwardRef((e,a)=>{let{className:t,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...i})});i.displayName="Input"},6672:function(e,a,t){"use strict";t.d(a,{_:function(){return d}});var r=t(7437),s=t(2265),n=t(6743),i=t(6061),o=t(9311);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.f,{ref:a,className:(0,o.cn)(l(),t),...s})});d.displayName=n.f.displayName},7579:function(e,a,t){"use strict";t.d(a,{SP:function(){return d},dr:function(){return l},mQ:function(){return o},nU:function(){return c}});var r=t(7437),s=t(2265),n=t(7094),i=t(9311);let o=n.fC,l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.aV,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});l.displayName=n.aV.displayName;let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.xz,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});d.displayName=n.xz.displayName;let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)(n.VY,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});c.displayName=n.VY.displayName},5771:function(e,a,t){"use strict";t.d(a,{g:function(){return i}});var r=t(7437),s=t(2265),n=t(9311);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s})});i.displayName="Textarea"},2621:function(e,a,t){"use strict";t.d(a,{pm:function(){return m}});var r=t(2265);let s=0,n=new Map,i=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},o=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...a}=e,t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,a]=r.useState(d);return r.useEffect(()=>(l.push(a),()=>{let e=l.indexOf(a);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9311:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var r=t(7042),s=t(4769);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,r.W)(a))}},3061:function(e,a,t){"use strict";t.d(a,{YA:function(){return l},iJ:function(){return i},l4:function(){return o}});var r=t(5687),s=t(5345),n=t(9855);let i=(0,r.LC)({reducerPath:"authApi",baseQuery:(0,s.ni)({baseUrl:"http://localhost:5000/api",prepareHeaders:e=>{let a=localStorage.getItem("token");return a&&e.set("authorization","Bearer ".concat(a)),e}}),endpoints:e=>({login:e.mutation({query:e=>({url:"/auth/login",method:"POST",body:e}),async onQueryStarted(e,a){let{dispatch:t,queryFulfilled:r}=a;try{let{data:e}=await r;e.success&&(localStorage.setItem("token",e.data.token),t((0,n.he)({user:e.data.user,token:e.data.token})))}catch(e){console.error("Login error:",e)}}}),register:e.mutation({query:e=>({url:"/auth/register",method:"POST",body:e})}),getUser:e.query({query:()=>({url:"/user/user",method:"GET"})})})}),{useRegisterMutation:o,useLoginMutation:l,useGetUserQuery:d}=i},7850:function(e,a,t){"use strict";t.d(a,{H7:function(){return d},YA:function(){return o},iX:function(){return n},kN:function(){return u},l4:function(){return i},nX:function(){return p},oj:function(){return l},yt:function(){return m}});var r=t(5687),s=t(5345);let n=(0,r.LC)({reducerPath:"organizationApi",baseQuery:(0,s.ni)({baseUrl:"http://localhost:5000/api/organization",prepareHeaders:e=>{let a=localStorage.getItem("organizationToken");return a&&e.set("authorization","Bearer ".concat(a)),e.set("Content-Type","application/json"),e}}),tagTypes:["Organization","Program"],endpoints:e=>({register:e.mutation({query:e=>({url:"/register",method:"POST",body:e})}),login:e.mutation({query:e=>({url:"/login",method:"POST",body:e})}),getDashboard:e.query({query:()=>"/dashboard",providesTags:["Organization","Program"]}),createProgram:e.mutation({query:e=>({url:"/programs",method:"POST",body:e}),invalidatesTags:["Program"]}),getPrograms:e.query({query:e=>({url:"/programs",params:e}),providesTags:["Program"]}),getVolunteersForProgram:e.query({query:e=>"/programs/".concat(e,"/volunteers"),providesTags:["Program"]}),selectVolunteersForProgram:e.mutation({query:e=>{let{programId:a,volunteerIds:t}=e;return{url:"/programs/".concat(a,"/select-volunteers"),method:"POST",body:{volunteerIds:t}}},invalidatesTags:["Program"]}),updateProgram:e.mutation({query:e=>{let{programId:a,updateData:t}=e;return{url:"/programs/".concat(a),method:"PUT",body:t}},invalidatesTags:["Program"]}),deleteProgram:e.mutation({query:e=>({url:"/programs/".concat(e),method:"DELETE"}),invalidatesTags:["Program"]})})}),{useRegisterMutation:i,useLoginMutation:o,useGetDashboardQuery:l,useCreateProgramMutation:d,useGetProgramsQuery:c,useGetVolunteersForProgramQuery:u,useSelectVolunteersForProgramMutation:m,useUpdateProgramMutation:g,useDeleteProgramMutation:p}=n},8053:function(e,a,t){"use strict";t.d(a,{C:function(){return n},T:function(){return s}});var r=t(9627);let s=()=>(0,r.I0)(),n=r.v9},9855:function(e,a,t){"use strict";t.d(a,{he:function(){return o},kS:function(){return d}});var r=t(3135);let s=e=>localStorage.getItem(e),n=(0,r.oM)({name:"auth",initialState:{user:null,token:s("token"),isAuthenticated:!!s("token"),loading:!1,error:null},reducers:{loginStart:e=>{e.loading=!0,e.error=null},loginSuccess:(e,a)=>{e.loading=!1,e.user=a.payload.user,a.payload.token&&(e.token=a.payload.token),e.isAuthenticated=!0,e.error=null,localStorage.setItem("token",a.payload.token||""),localStorage.setItem("userId",a.payload.user.id),localStorage.setItem("user",JSON.stringify(a.payload.user))},loginFailure:(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("user")},clearError:e=>{e.error=null}}}),{loginStart:i,loginSuccess:o,loginFailure:l,logout:d,clearError:c}=n.actions;a.ZP=n.reducer},5879:function(e,a,t){"use strict";t.d(a,{j5:function(){return o}});var r=t(3135);let s=e=>localStorage.getItem(e),n=(0,r.oM)({name:"organization",initialState:{organization:null,token:s("organizationToken"),isAuthenticated:!!s("organizationToken"),loading:!1,error:null},reducers:{organizationLoginStart:e=>{e.loading=!0,e.error=null},organizationLoginSuccess:(e,a)=>{e.loading=!1,e.organization=a.payload.organization,e.token=a.payload.token,e.isAuthenticated=!0,e.error=null,localStorage.setItem("organizationToken",a.payload.token),localStorage.setItem("organizationId",a.payload.organization.id),localStorage.setItem("organization",JSON.stringify(a.payload.organization))},organizationLoginFailure:(e,a)=>{e.loading=!1,e.error=a.payload,e.isAuthenticated=!1},organizationLogout:e=>{e.organization=null,e.token=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("organizationToken"),localStorage.removeItem("organizationId"),localStorage.removeItem("organization")},clearOrganizationError:e=>{e.error=null}}}),{organizationLoginStart:i,organizationLoginSuccess:o,organizationLoginFailure:l,organizationLogout:d,clearOrganizationError:c}=n.actions;a.ZP=n.reducer}},function(e){e.O(0,[28,821,400,971,864,744],function(){return e(e.s=3548)}),_N_E=e.O()}]);